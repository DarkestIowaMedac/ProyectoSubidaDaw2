import{r as n,j as e}from"./app-BtW5Zps0.js";function h(){const u=()=>{const r=document.cookie.split("; ").find(o=>o.startsWith("muestra="));if(m(),r){const o=r.split("=")[1];return JSON.parse(o)}return null};function m(){const s=document.cookie.split(";");for(let r of s){const o=r.split("=")[0].trim();document.cookie=`${o}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/`}}const[t,b]=n.useState(u()),[a,c]=n.useState({nombre:"",descripcion:""});n.useEffect(()=>{t&&c({nombre:t.nombre||"",descripcion:t.descripcion||""})},[t]);const i=s=>{const{name:r,value:o}=s.target;c({...a,[r]:o})},d=async s=>{s.preventDefault();try{const r=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),o=t?`/ProyectoSubidaDaw2/public/actualizarmuestra/${t.id}`:"/ProyectoSubidaDaw2/public/crearmuestra",l=await fetch(o,{method:t?"PUT":"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":r},body:JSON.stringify(a)});l.ok?(alert(t?"Muestra actualizada exitosamente":"Muestra creada exitosamente"),window.history.back()):l.status===419?alert("Error 419: Token CSRF inválido o ausente."):alert("Error al procesar la solicitud")}catch(r){console.error("Error:",r),alert("Error al enviar los datos")}};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Formulario de los cojones"}),e.jsx("br",{}),e.jsxs("form",{onSubmit:d,children:[e.jsx("label",{htmlFor:"nombre",children:"Nombre:"}),e.jsx("br",{}),e.jsx("input",{className:"text-black",type:"text",id:"nombre",name:"nombre",placeholder:"Escribe tu nombre",value:a.nombre,onChange:i,required:!0}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("label",{htmlFor:"descripcion",children:"Texto:"}),e.jsx("br",{}),e.jsx("textarea",{className:"text-black",id:"descripcion",name:"descripcion",rows:"4",cols:"50",placeholder:"Escribe un mensaje aquí...",value:a.descripcion,onChange:i,required:!0}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("button",{type:"submit",className:"bg-green-500 text-white p-3 rounded",children:[t?"Actualizar":"Crear"," "]})]})]})}export{h as F};
